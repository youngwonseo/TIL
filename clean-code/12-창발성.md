# 창발성

## 창발적 설계로 깔끔한 코드를 구현하자

* 착실히 따르기만하면 우수한 설계가 나오는 간단한 네 가지 규칙
  * 코드 구조와 설계를 파악하기 쉬워짐
  * 그래서 SRP나 DIP와 같은 원칙을 적용하기 쉬워짐
  * 우수한 설계의 창발성을 촉진
* 켄트 벡의 단순한 설계규칙 4가지 (중요도 순서)
  * 모든 테스트를 실행
  * 중복 제거
  * 프로그래머 의도 표현
  * 클래스와 메서드 수를 최소화

## 단순한 설계 규칙 1: 모든 테스트를 실행하라

* 무엇보다도 먼저 설계는 의도한 대로 돌아가는 시스템을 내놓아야함
* 문서로는 시스템을 완벽히 설계했지만 시스템이 의도한대로 돌아가는지 검증해야함
* 테스트를 철저히 거져 모든 테스트 케이스를 항상 통과하는 시스템은 테스트가 가능한 시스템임
* 테스트 불가능하면 검증 또한 불가능함
* 테스트가 가능한 시스템을 만들려고 애쓰면 설계 품질이 높여짐
* 크기가 작고 목적 하나만 수행하는 클래스가 작성됨
* SRP를 준수하는 클래스는 테스트가 쉬움
* 테스트 케이스가 많을 수록 테스트가 쉽게 코드를 작성하게 도와줌
* 결합도가 높으면 테스트 케이스를 작성하기 어려움
* 테스트 케이스를 많이 작성할수록 DIP와 같은 원칙을 적용하고 의존성 주입, 인터페이스, 추상화 등과 같은 도구를 사용해 결합도를 낮춰야함, 이에 따라 품질은 더 높아짐
* 테스트 케이스를 만들고 계속 돌려라라는 간단하고 단순한 규칙을 따르면 낮은 결합도와 높은 응집력라는 객체지향 방법론이 지향하는 목표를 저절로 달성

## 단순한 설계 규칙 2~4: 리펙토링

* 테스트 케이스를 모두 작성했다면 코드와 클래스를 정리
* 구체적으로는 코드를 점진적 리펙토링함
* 테스트 케이스가 존재하므로 코드를 정리하면서 시스템이 깨질까 걱정할 필요가 없음!

## 중복을 없애라

* 우수한 설계에 중복은 커다란 적

## 표현하라

* 코드를 유지보수하는 사람이 코드를 짠 사람만큼 문제를 깊이 이해할 가능성은 적음
* 대부분의 비용이 장기적인 유지보수에 들어감
* 그러므로 코드는 개발자의 의도를 분명히 표현해야함
* 표현에 대한 법칙
  * 좋은 이름을 선택해야함
  * 함수와 클래스 크기를 가능한 줄임
  * 표준 명칭을 사용
  * 단위 테스트 케이스를 꼼꼼하게 작성
* 표현력을 높이는 가장 중요한 방법은 **노력**
* 자신의 코드에 조금만 더 주의를 기울이자, 주의는 대단한 재능

## 클래스와 메서드 최소로 줄여라

* 중복을 제거하고, 의도를 표현하고, SRP를 준수한다는 기본적인 개념도 극단으로 치달으면 득보다 실이 많아짐
  * 클래스를 계속 쪼개다 보니 클래스가 많아짐
  * 그래서 이번 규칙은 수를 최소화하는 것
* 때로는 무의미하고 독단적인 정책으로 클래스 수와 메서드 수가 늘어나기도함
  * 클래스마다 인터페이스를 만들면 수가 너무 많아짐
  * 실용적인 방법을 찾아야함
* 목표는 함수와 클래스 크기를 작게 유지하면서 동시에 시스템 크기도 작게 유지하는것에 있음

## References

* [클린 코드](http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788966260959&orderClick=LAG&Kc=)