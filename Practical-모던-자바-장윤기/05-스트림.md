# 스트림 API

* 스트림을 배우면 비로소 람다의 힘을, 그리고 함수형 프로그래밍의 편리함을 깨닫게 됨
* 여기서말하는 스트림은 자바 I/O의 스트림이 아님
* 다음과 같은 내용에 대해 살펴봄
  * 스트림 이해
  * 스트림 기본 사용방법
  * 스트림 연산 이해
  * 리듀스 연산

## 스트림 인터페이스 이해

* 스트림 API의 주된 목적은
  * 람다 표현식과 메서드 참조 등의 기능과 결합해서 매우 복잡하고 어려운 데이터 처리 작업을 처리할 수 있도록 지원
  * 필터링, 변환 등
* 

```java
Integer[] intArray = new Integer[] {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
List numberList = Arrays.asList(intArray);

// 인덱스 i 사용
for(int i=0; i < numberList.size(); i++) {
  System.out.println(numberList.get(i));
}

// Iterator 사용
for(Iterator iter = numberList.iterator(); iter.hasNext() ; ) {
  System.out.println(iter.next());
}

for(Integer intValue : numberList) {
  System.out.println(intValue);
}

numberList.forEach(System.out::println);
```

* 스트림의 가장 기본되는 인터페이스는 BaseStream
  * BaseStream은 스트림 API의 최상위
* Stream 인터페이스의 주요 메서드
  * concat
  * collect
  * count
  * distinct
  * filter
  * forEach
  * limit
  * reduce
  * skip
  * sorted
  * toArray
* Stream 객체는 불변
  * Stream 객체의 메서드 호출 결과로 리턴 받은 Stream은 새롭게 생성된 데이터
* 스트림 API는 데이터가 객체
  * 제내릭 타입을 명시적으로 지정해야함
  * 기본 데이터형인 int, long, double 등의 값을 처리하면 성능면에서 취약해짐
  * Stream 내부적으로 오토 박싱과 언박싱이 빈번하게 발생하기 때문
  * 다음과 같은 기본형에 대한 별도의 인터페이스 제공
    * DoubleStream
    * IntStream
    * LongStream

## 스트림 객체 생성

* 자바8 부터는 stream에 대한 default 메서드가 Collection 인터페이스에 추가죔
  * ArrayList, LinkedList, SortedList등 collection 인터페이스의 구현체는 stream사용가능

```java

```

* 스트림은 한번 사용하고 나면 다시 사용할 수 없음
  * Stream 인터페이스의 메서드 중 void를 리턴하는 메서드를 호출하면 전체 스트림 데이터를 소모
  * List와 같은 컬렉션은 데이터가 객체 내부에 포함되어 있지만 스트림은 데이터 원천을 참조하는 형태이기 때문
  * 스트림 데이터를 다 소모하게 만드는 메서드를 특별히 **최종 연산**이라고 함

### 스트림 빌더

* java.util.stream 패키지에 있는 Stream.Builder 인터페이스
* 스트림 빌더 역시 스트림 객체와 마찬가지로 한 번 사용하고 나면 재사용할 수 없음

```java
public static void main(String[] args) {
  Stream.Builder<String> builder = Stream.builder();
  builder.accept("1");
  builder.accept("2");
  builder.accept("3");
  builder.accept("4");
  builder.accept("5");
  builder.build().forEach(System.out::println);
}
```

## 스트림 연산 이해

* 연산을 구분
  * 중간 연산(Intermdediate operation)
  * 최종 연산(Terminla operation)
* 스트림 생명주기
  * 스트림 객체 생성
  * 중간 연산
    * concat, distinct, filter, limit, map, sorted
  * 최종 연산
    * count, collect, forEach

## 주요 스트림 연산 상세

### 데이터 필터링

### 데이터 정렬

### 데이터 매핑

### 데이터 반복 처리

### 컬렉션으로 변환

## 기타 스트림 생성 방법

* 스트림 생성에 대한 일반적인 두 가지 방법
  * Collection.stream()
  * Arrays.stream(Object[]) : 배열을 스트림 객체로 변환

## 추가 스트림 연산들

### 데이터 평면화

### 데이터 검색

## 리듀스 연산

## References

* [Practical 모던 자바 - 장윤기저, 인사이트](http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788966262755&orderClick=LAG&Kc=)
